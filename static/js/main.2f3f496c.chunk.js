(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){e.exports={registrationModule:"Registration_registrationModule__1fKXs",registrationForm:"Registration_registrationForm__22e4F"}},19:function(e,t,n){e.exports={inputErr:"Input_inputErr__20OOU",error:"Input_error__SMEdF"}},24:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__2rqjE",errorInput:"SuperInputText_errorInput__M4JuS",error:"SuperInputText_error__3wWI5"}},25:function(e,t,n){e.exports={default:"SuperButton_default__1nLOf",red:"SuperButton_red__2HGG9"}},26:function(e,t,n){e.exports={lab:"SuperCheckbox_lab__3o2fV",checkbox:"SuperCheckbox_checkbox__STjVD",spanClassName:"SuperCheckbox_spanClassName__CL-eB"}},33:function(e,t,n){e.exports={wrapper:"Navigation_wrapper__2FRyW",navigation:"Navigation_navigation__3CdAO"}},45:function(e,t,n){e.exports={formLogin:"Login_formLogin__1LCmO",elementInput:"Login_elementInput__3lPY3"}},51:function(e,t,n){},52:function(e,t,n){},7:function(e,t,n){e.exports={fountainG:"Preloader_fountainG__2UlqG",bounce_fountainG:"Preloader_bounce_fountainG__3UKYB",fountainG_1:"Preloader_fountainG_1__1JtFM",fountainG_2:"Preloader_fountainG_2__24vwM",fountainG_3:"Preloader_fountainG_3__12Cna",fountainG_4:"Preloader_fountainG_4__2byAC",fountainG_5:"Preloader_fountainG_5__3z7n0",fountainG_6:"Preloader_fountainG_6__Ir0vE",fountainG_7:"Preloader_fountainG_7__1IkHF",fountainG_8:"Preloader_fountainG_8__1bICb"}},78:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(22),s=n.n(c),o=(n(51),n(52),n(5)),i=n(8),u=n(6),l=n(14),d=n.n(l),j=n(2),b=n(3),p=n(15),O=n.n(p),f=O.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/"}),h=function(e){return f.post("auth/register",e)},x="App/ON_CHANGE_APP_STATUS",g={appStatus:"idle"},_=function(e){return{type:x,status:e}},m={succeedRegister:!1,error:void 0},v=function(e){return{type:"reg/SET-ERROR",error:e}},S=n(7),w=n.n(S),y=n(0),C=function(){return Object(y.jsxs)("div",{id:w.a.fountainG,children:[Object(y.jsx)("div",{id:w.a.fountainG_1,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_2,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_3,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_4,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_5,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_6,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_7,className:w.a.fountainG}),Object(y.jsx)("div",{id:w.a.fountainG_8,className:w.a.fountainG})]})},N=n(19),P=n.n(N),k=function(e){return!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)},R=function(e){return e.length<8},G=function(e){var t=e.email,n=e.onChange,a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{className:s&&P.a.error,onFocus:function(){return o("")},value:t,onBlur:function(){""===t.trim()&&(o("Email Required"),n("")),t&&(k(t)?o("Invalid email address"):o(""))},onChange:function(e){n(e.currentTarget.value)},placeholder:"Email",type:"email"}),s&&Object(y.jsx)("div",{className:P.a.inputErr,style:{marginTop:"-3px"},children:s})]})},E=function(e){var t=e.password,n=e.onChange,a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{className:s&&P.a.error,onFocus:function(){return o("")},value:t,onBlur:function(){""===t.trim()&&o("Password Required"),t&&(R(t)?o("Password must be more than 7 characters"):o(""))},onChange:function(e){n(e.currentTarget.value.trim())},placeholder:"Password",type:"password"}),s&&Object(y.jsx)("div",{className:P.a.inputErr,style:{marginTop:"-3px"},children:s})]})},T=function(e){var t=e.name,n=e.onClick,r=e.status;return Object(y.jsx)("div",{children:Object(y.jsx)("button",{disabled:"loading"===r,style:{cursor:"pointer"},onClick:n,children:t})})},I=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.reg.succeedRegister})),n=Object(j.c)((function(e){return e.app.appStatus})),a=Object(j.c)((function(e){return e.reg.error})),c=Object(r.useState)(""),s=Object(i.a)(c,2),l=s[0],b=s[1],p=Object(r.useState)(""),O=Object(i.a)(p,2),f=O[0],x=O[1],g=Object(r.useState)(""),m=Object(i.a)(g,2),S=m[0],w=m[1],N=Object(r.useState)(""),P=Object(i.a)(N,2),R=P[0],I=P[1];return t?Object(y.jsx)(o.a,{to:"/login"}):Object(y.jsxs)("div",{className:d.a.registrationModule,children:[Object(y.jsx)("h1",{children:"Registration"}),Object(y.jsxs)("form",{className:d.a.registrationForm,onSubmit:function(e){return e.preventDefault()},children:[Object(y.jsx)(G,{email:l,onChange:b}),Object(y.jsx)(E,{password:f,onChange:x}),Object(y.jsx)("input",{value:S,onChange:function(t){w(t.currentTarget.value),"idle"!==n&&e(_("idle"))},placeholder:"Repeat password",type:"password"}),f!==S?Object(y.jsx)("div",{style:{color:"red"},children:"Different Password"}):"",Object(y.jsx)(T,{name:"Register",onClick:function(){var t;l&&f?f!==S||k(l)?I("incorrect email or password"):e((t={email:l,password:f},function(e){e(_("loading")),h(t).then((function(t){t.data.error?(e(v(t.data.error)),e(_("failed"))):(e({type:"reg/SET-REGISTER",succeedRegister:!0}),e(_("succeeded")))})).catch((function(t){e(_("failed")),t.response?e(v(t.response.data.error)):e(v(t.message))}))})):I("required email and password")},status:n}),R&&Object(y.jsx)("div",{style:{color:"red"},children:R}),a&&Object(y.jsx)("div",{style:{color:"red"},children:a}),"loading"===n&&Object(y.jsx)(C,{}),Object(y.jsx)(u.c,{to:"/login",children:"Sign in"})]})]})},A=function(){var e=Object(j.c)((function(e){return e.auth.userData.name}));return Object(j.c)((function(e){return e.auth.isAuth}))?Object(y.jsxs)("h1",{children:["profile ",e]}):Object(y.jsx)(o.a,{to:"/"})},F=n(21),L=n.n(F),D=n(32),H=O.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),U=(O.a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/"}),function(e){return H.post("auth/forgot",{email:e,from:"Fristail27  <Fristail27@gmail.com>",message:"<div style=\"background-color: lime; padding: 15px\">\n                            password recovery link: <a href='http://localhost:3000/Progect#/new-password-page/$token$'>link</a>\n                      </div>"})}),M=function(e,t){return H.post("auth/set-new-password",{password:e,resetPasswordToken:t})},B={valueOfInputEmail:"",errorStatusForPassRec:null,errorStatusForNewPass:null,valueInputPass:"",valueInputPassRec:""},q="passwordRecovery/ON_CHANGE_INPUT_EMAIL",K="passwordRecovery/SET_ERROR_STATUS_FOR_PASS_REC",J="passwordRecovery/SET_ERROR_STATUS_FOR_NEW_PASS",W="passwordRecovery/ON_CHANGE_INPUT_PASS",Y="passwordRecovery/ON_CHANGE_INPUT_PASS_REC",Z=function(e){return{type:q,value:e}},$=function(e){return{type:K,error:e}},V=function(e){return{type:J,error:e}},z=function(e){return{type:W,value:e}},X=function(e){return{type:Y,value:e}},Q=function(){var e=Object(j.b)(),t=a.a.useState(!1),n=Object(i.a)(t,2),r=n[0],c=n[1],s=a.a.useState(!1),u=Object(i.a)(s,2),l=u[0],d=u[1],b=a.a.useState(!1),p=Object(i.a)(b,2),O=p[0],f=p[1],h=Object(j.c)((function(e){return e.pass.errorStatusForNewPass})),x=Object(j.c)((function(e){return e.pass.valueInputPass})),g=R(x),m=Object(j.c)((function(e){return e.pass.valueInputPassRec})),v=R(m),S=Object(j.c)((function(e){return e.app.appStatus})),w=Object(o.g)().token,N=g&&l?{border:"2px solid red"}:{},P=v&&O?{border:"2px solid red"}:{};return Object(y.jsxs)("div",{children:[r&&Object(y.jsx)(o.a,{to:"/login"}),Object(y.jsx)("h1",{children:"New Password Page"}),Object(y.jsxs)("label",{style:{display:"block"},children:[Object(y.jsx)("input",{onBlur:function(){g?(e(V("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")),d(!0),f(!0)):e(V(null))},onFocus:function(){return d(!0)},style:N,value:x,onChange:function(t){h&&e(V(null)),(l||O)&&(d(!1),f(!1)),e(z(t.currentTarget.value))},type:"text"}),"Password"]}),Object(y.jsxs)("label",{style:{display:"block"},children:[Object(y.jsx)("input",{onBlur:function(){v?(e(V("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")),d(!0),f(!0)):e(V(null))},onFocus:function(){return f(!0)},style:P,value:m,onChange:function(t){h&&e(V(null)),"idle"!==S&&e(_("idle")),(l||O)&&(d(!1),f(!1)),e(X(t.currentTarget.value))},type:"text"}),"repeat Password"]}),h&&Object(y.jsx)("span",{style:{color:"red"},children:h}),Object(y.jsx)("button",{disabled:"loading"===S,onClick:function(){x!==m?e(V("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")):R(x)?e(V("\u0414\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")):(w&&e(function(e,t){return function(){var n=Object(D.a)(L.a.mark((function n(r){return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(_("loading")),n.next=4,M(e,t);case 4:r(z("")),r(X("")),r(_("succeeded")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0.response?(r(V(n.t0.response.data.error)),r(_("failed"))):(r(V(n.t0.message)),r(_("failed")));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(x,w)),"succeeded"===S&&(c(!0),e(_("idle"))))},children:"Change Pass"}),"loading"===S&&Object(y.jsx)(C,{}),"succeeded"===S&&Object(y.jsx)("span",{style:{color:"green"},children:S})]})},ee=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.pass.valueOfInputEmail})),n=k(t),r=Object(j.c)((function(e){return e.pass.errorStatusForPassRec})),a=Object(j.c)((function(e){return e.app.appStatus}));return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Password Recovery Page"}),Object(y.jsxs)("form",{className:d.a.registrationForm,onSubmit:function(e){return e.preventDefault()},children:[Object(y.jsx)(G,{email:t,onChange:function(t){e(Z(t))}}),Object(y.jsx)(T,{name:"Send email",onClick:function(){var r;e(n?$("\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"):(r=t,function(){var e=Object(D.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_("loading")),e.next=4,U(r);case 4:t(Z("")),t(_("succeeded")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(t($(e.t0.response.data.error)),t(_("failed"))):(t($(e.t0.message)),t(_("failed")));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},status:a}),r&&Object(y.jsx)("p",{style:{color:"red"},children:r})]}),"loading"===a&&Object(y.jsx)(C,{}),"succeeded"===a&&Object(y.jsx)("span",{style:{color:"green"},children:a})]})},te=n(17),ne=n(24),re=n.n(ne),ae=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,a=e.onEnter,c=e.error,s=(e.className,e.spanClassName),o=Object(te.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),i="".concat(re.a.error," ").concat(s||""),u="".concat(re.a.superInput," ").concat(c?re.a.errorInput:""," ");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),"Enter"===e.key&&a&&a()},className:u},o)),c&&Object(y.jsx)("span",{className:i,children:c})]})},ce=n(25),se=n.n(ce),oe=function(e){var t=e.red,n=e.className,r=Object(te.a)(e,["red","className"]),a=" ".concat(se.a.default," ").concat(t?se.a.red:se.a.default," ").concat(n);return Object(y.jsx)("button",Object(b.a)({className:a},r))},ie=n(26),ue=n.n(ie),le=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),c=Object(te.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(ue.a.checkbox," ").concat(r||"");return Object(y.jsxs)("label",{className:ue.a.lab,children:[Object(y.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),a&&Object(y.jsx)("div",{className:ue.a.spanClassName,children:a})]})},de=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ae,{}),Object(y.jsx)(oe,{children:"TEST"}),Object(y.jsx)(le,{children:"TEST"}),Object(y.jsx)(C,{})]})},je=function(){return Object(y.jsx)("h1",{children:"Error404: Page not found"})},be=function(){return Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(y.jsx)(u.c,{to:"/login",children:"Login"}),Object(y.jsx)(u.c,{to:"/registration",children:"registration"}),Object(y.jsx)(u.c,{to:"/new-password-page",children:"new-password-page"}),Object(y.jsx)(u.c,{to:"/password-recovery-page",children:"password-recovery-page"}),Object(y.jsx)(u.c,{to:"/test-page",children:"test-page"}),Object(y.jsx)(u.c,{to:"/error404",children:"error404"})]})},pe=n(45),Oe=n.n(pe),fe=function(e){var t=Object(j.c)((function(e){return e.app.appStatus}));return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Authentication"}),Object(y.jsxs)("form",{className:d.a.registrationForm,onSubmit:function(e){return e.preventDefault()},children:[Object(y.jsx)(G,{email:e.email,onChange:e.emailHandler}),Object(y.jsx)(E,{password:e.password,onChange:e.passwordHandler}),Object(y.jsxs)("div",{className:Oe.a.elementInput,children:[Object(y.jsx)("span",{children:"Remember me"}),Object(y.jsx)("input",{onChange:e.checkHandler,type:"checkbox",checked:e.check})]}),Object(y.jsx)(T,{name:"Login",onClick:e.onSubmit,status:t}),e.error&&Object(y.jsx)("div",{style:{color:"red"},children:e.error}),"loading"===t&&Object(y.jsx)(C,{})]})]})},he=O.a.create(Object(b.a)({baseURL:"https://neko-back.herokuapp.com/2.0/"},{withCredentials:!0})),xe=function(e){return he.post("auth/login",e)},ge={userData:{_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null,isAuth:!1},isAuth:!1,loginSuccess:!1},_e="AUTH_TRY",me=function(e,t){return{type:_e,userData:e,isAuth:t}},ve=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.app.appStatus})),n=Object(j.c)((function(e){return e.reg.error})),a=Object(r.useState)(""),c=Object(i.a)(a,2),s=c[0],u=c[1],l=Object(r.useState)(""),d=Object(i.a)(l,2),b=d[0],p=d[1],O=Object(r.useState)(!1),f=Object(i.a)(O,2),h=f[0],x=f[1];return"succeeded"===t?Object(y.jsx)(o.a,{to:"./profile"}):Object(y.jsx)(fe,{emailHandler:function(n){u(n),"idle"!==t&&e(_("idle"))},checkHandler:function(n){x(n.currentTarget.checked),"idle"!==t&&e(_("idle"))},passwordHandler:function(n){p(n),"idle"!==t&&e(_("idle"))},email:s,password:b,check:h,onSubmit:function(){var t;e((t={email:s,password:b,rememberMe:h},function(e){e(_("loading")),xe(t).then((function(t){t.data.error?(e(me(ge.userData,!1)),e(_("failed"))):(e(me(t.data,!0)),e(_("succeeded")))})).catch((function(t){e(_("failed")),t.response?e(v(t.response.data.error)):e(v(t.message))}))}))},error:n})},Se=n(33),we=n.n(Se),ye=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.auth.isAuth})),n=t?"/":"/login";return Object(y.jsxs)("div",{className:we.a.wrapper,children:[Object(y.jsxs)("nav",{className:we.a.navigation,children:[Object(y.jsx)(u.b,{to:"/",children:"Home"}),Object(y.jsx)(u.b,{to:"/profile",children:"Profile"})]}),Object(y.jsx)(u.c,{to:n,children:Object(y.jsx)("button",{onClick:function(){t&&(e(me(ge.userData,!1)),e(_("idle")))},children:t?Object(y.jsx)("span",{children:"Logout"}):Object(y.jsx)("span",{children:"Login"})})})]})};var Ce=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(ye,{}),Object(y.jsxs)(o.d,{children:[Object(y.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(y.jsx)(be,{})}}),Object(y.jsx)(o.b,{path:"/login",render:function(){return Object(y.jsx)(ve,{})}}),Object(y.jsx)(o.b,{path:"/registration",render:function(){return Object(y.jsx)(I,{})}}),Object(y.jsx)(o.b,{path:"/profile",render:function(){return Object(y.jsx)(A,{})}}),Object(y.jsx)(o.b,{path:"/new-password-page/:token",render:function(){return Object(y.jsx)(Q,{})}}),Object(y.jsx)(o.b,{path:"/password-recovery-page",render:function(){return Object(y.jsx)(ee,{})}}),Object(y.jsx)(o.b,{path:"/test-page",render:function(){return Object(y.jsx)(de,{})}}),Object(y.jsx)(o.b,{path:"/error404",render:function(){return Object(y.jsx)(je,{})}}),Object(y.jsx)(o.a,{from:"*",to:"/error404"})]})]})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Pe=n(18),ke=n(46),Re=Object(Pe.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{appStatus:t.status});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(b.a)(Object(b.a)({},e),{},{userData:t.userData,isAuth:t.isAuth});default:return e}},pass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(b.a)(Object(b.a)({},e),{},{valueOfInputEmail:t.value});case K:return Object(b.a)(Object(b.a)({},e),{},{errorStatusForPassRec:t.error});case J:return Object(b.a)(Object(b.a)({},e),{},{errorStatusForNewPass:t.error});case W:return Object(b.a)(Object(b.a)({},e),{},{valueInputPass:t.value});case Y:return Object(b.a)(Object(b.a)({},e),{},{valueInputPassRec:t.value});default:return e}},reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reg/SET-REGISTER":return Object(b.a)(Object(b.a)({},e),{},{succeedRegister:t.succeedRegister});case"reg/SET-ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error});default:return e}}}),Ge=Object(Pe.d)(Re,Object(Pe.a)(ke.a));window.store=Ge,s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(j.a,{store:Ge,children:Object(y.jsx)(u.a,{children:Object(y.jsx)(Ce,{})})})}),document.getElementById("root")),Ne()}},[[78,1,2]]]);
//# sourceMappingURL=main.2f3f496c.chunk.js.map